<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complejidad Ciclomatica</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #0e0d0d;
            color: #333;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #f9f9f9;
            margin-bottom: 30px;
        }

        .description {
            background-color: #c4c2c2;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .description p {
            margin: 0;
            line-height: 1.5;
        }

        .code {
            font-family: Consolas, monospace;
            background-color: #e5e5e7;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>

<body>
    <div class="container">

        <h1>Complejidad Ciclomatica</h1>
        <div class="col-10 col-md-8">
            <a href="index.html" class="btn btn-danger btn-sm">volver</a>
        </div>

        <div class="description">
            <h2>Formulario student-form</h2>
            <p>
                El formulario <code>student-form</code> tiene un evento de escucha para el evento de envío
                (<code>submit</code>),
                que dispara una función anónima.
            </p>
            <p>
                Dentro de esta función anónima, se realizan las siguientes operaciones:
            </p>
            <ol>
                <li>Se obtienen los valores de los campos del formulario.</li>
                <li>Se verifica si todos los campos están completos.</li>
                <li>
                    Si los campos están completos, se realiza una verificación adicional para determinar si se está
                    realizando una edición o una adición de un nuevo producto.
                </li>
                <li>
                    Si es una adición, se agrega una nueva fila a la tabla con los datos ingresados.
                </li>
                <li>
                    Si es una edición, se actualizan los datos de la fila seleccionada en la tabla.
                </li>
                <li>
                    Se invoca la función <code>clearFields</code> para limpiar los campos del formulario.
                </li>
            </ol>
            <div class="code">
                <code>
                document.querySelector('#student-form').addEventListener("submit", (e) => {
                    <br>
                    &emsp;e.preventDefault();
                    <br>
                    &emsp;// Obtener los valores de los campos del formulario
                    <br>
                    &emsp;const id = document.querySelector("#productoId").value;
                    <br>
                    &emsp;const productoNombre = document.querySelector("#productoNombre").value;
                    <br>
                    &emsp;const productoDescripcion = document.querySelector("#productoDescripcion").value;
                    <br>
                    &emsp;const productoPrecio = document.querySelector("#productoPrecio").value;
                    <br>
                    <br>
                    &emsp;// Verificar si todos los campos están completos
                    <br>
                    &emsp;if (id === "" || productoNombre === "" || productoDescripcion === "" || productoPrecio === "") {
                        <br>
                        &emsp;&emsp;showAlert("Por Favor Rellene todos los campos", "danger");
                        <br>
                &emsp;} else {
                    <br>
                    &emsp;&emsp;// Verificar si es una adición o una edición
                    <br>
                    &emsp;&emsp;if (selectedRow == null) {
                        <br>
                        &emsp;&emsp;&emsp;// Agregar una nueva fila a la tabla con los datos ingresados
                        <br>
                        &emsp;&emsp;} else {
                            <br>
                            &emsp;&emsp;&emsp;// Actualizar los datos de la fila seleccionada en la tabla
                            <br>
                            &emsp;&emsp;}
                            <br>
                            <br>
                            &emsp;&emsp;// Invocar la función clearFields para limpiar los campos del formulario
                            <br>
                &emsp;&emsp;clearFields();
                <br>
                &emsp;}
                <br>
            });
        </code>
            </div>
        </div>

        <div class="description">
            <h2>Evento de clic en elementos de la tabla</h2>
            <p>
                Hay dos eventos de escucha adicionales en el elemento <code>student-list</code> (la tabla):
            </p>
            <ol>
                <li>
                    Uno para el evento de clic en los elementos con la clase <code>edit</code>,
                    que actualiza los campos del formulario con los datos de la fila seleccionada para su edición.
                </li>
                <li>
                    Otro para el evento de clic en los elementos con la clase <code>delete</code>,
                    que elimina la fila correspondiente de la tabla.
                </li>
            </ol>
            <div class="code">
                <code>
            document.querySelector("#student-list").addEventListener("click", (e) => {
                <br>
                &emsp;target = e.target;
                <br>
                &emsp;if (target.classList.contains("edit")) {
                    <br>
                    &emsp;&emsp;// Actualizar los campos del formulario con los datos de la fila seleccionada para su edición
                    <br>
                    &emsp;}
                    <br>
                    &emsp;if (target.classList.contains("delete")) {
                <br>
                &emsp;&emsp;// Eliminar la fila correspondiente de la tabla
                <br>
                &emsp;}
                <br>
            });
        </code>
            </div>
        </div>
    </div>

</body>

</html>